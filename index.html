<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Data Visualization Project Plot</title>
    <style>
        body { 
            margin: 0; 
            overflow-x: hidden; 
            font-family: Arial, sans-serif;
        } 
        /* Styling for the grid lines */
        .x-axis line, .y-axis line {
            stroke: #ccc;
            stroke-dasharray: 2,2;
        }
        .x-axis .domain, .y-axis .domain {
            stroke: none;
        }
        /* Container styles */
        .chart-container {
            position: relative;
            margin: 20px;
        }

        /* Nav buttons linking to standalone visuals */
        .nav-buttons {
            text-align: center;
            margin: 14px 0;
        }
        .nav-buttons .nav-button {
            display: inline-block;
            padding: 8px 12px;
            margin: 0 6px;
            background: #28a745;
            color: #fff;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            border: 1px solid #208038;
        }
        .nav-buttons .nav-button.sankey {
            background: #17a2b8;
            border-color: #12808a;
        }
        .nav-buttons .nav-button:hover {
            opacity: 0.9;
        }
    </style>
    <script src="https://d3js.org/d3.v7.min.js"></script> 
</head>
<body>
            <style>
                /* Full viewport dashboard with a top large visual and a bottom row split */
                html, body { height: 100%; }
                body { display:flex; flex-direction:column; min-height:100vh; }
                .dashboard { display:flex; flex-direction:column; height:100vh; gap:12px; padding:12px; box-sizing:border-box; }
                .dash-top { flex: 0 0 62%; }
                .dash-bottom { flex: 1 1 38%; display:flex; gap:12px; }
                .chart-item { background: #fff; border-radius:6px; box-shadow: 0 1px 6px rgba(0,0,0,0.08); overflow:hidden; }
                /* top force plot takes most of width */
                #chart-vis1 { width: 100%; height: 100%; }
                /* bottom: sankey wider, circle narrower */
                #chart-sankey { flex: 2; height: 100%; }
                #chart-circle { flex: 1; height: 100%; display:flex; align-items:center; justify-content:center; }
                /* ensure inner SVG/canvas can fill their containers */
                #chart-vis1 svg, #chart-vis1 canvas, #chart-sankey svg, #chart-sankey canvas, #chart-circle svg, #chart-circle canvas { width:100%; height:100%; display:block; }
            </style>

            <div class="dashboard">
                <div class="dash-top chart-item">
                    <div id="chart-vis1" class="chart-container"></div>
                </div>
                <div class="dash-bottom">
                    <div id="chart-sankey" class="chart-item"></div>
                    <div id="chart-circle" class="chart-item"></div>
                </div>
            </div>

            <script src="Vis1.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/d3-sankey@0.12.3/dist/d3-sankey.min.js"></script>
            <script src="sankey.js"></script>
            <script src="circle.js"></script>
            <script>
                // Render the sankey and circle into their containers. Vis1 will render into #chart-vis1.
                try { renderSankey('#chart-sankey'); } catch (e) { console.error('Failed to render sankey', e); }
                try { renderCircle('#chart-circle'); } catch (e) { console.error('Failed to render circle', e); }
            </script>
</body>
</html>